# Deploy ржХрж░рж╛рж░ рж╕рж╣ржЬ ржирж┐рж░рзНржжрзЗрж╢ржирж╛

## ржзрж╛ржк рзз: Build ржХрж░рзБржи

```bash
npm run build
```

> [!IMPORTANT]
> `npm run build` ржХрж░рж╛рж░ ржЖржЧрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ рж░рзБржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ `.env` ржлрж╛ржЗрж▓ржЯрж┐ рж╕ржарж┐ржХ API URLs рж╕рж╣ ржЖржЫрзЗред Next.js ржмрж┐рж▓рзНржб ржХрж░рж╛рж░ рж╕ржорзЯ ржПржЗ variables ржЧрзБрж▓рзЛ static pages ржП inject ржХрж░рзЗред

## ржзрж╛ржк рзи: ZIP ржХрж░рж╛рж░ ржЬржирзНржп ржПржЗ files/folders ржирж┐ржи

**Include ржХрж░ржмрзЗржи:**
- тЬЕ `.next` folder (build ржПрж░ ржкрж░рзЗ рждрзИрж░рж┐ рж╣ржмрзЗ)
- тЬЕ `public` folder
- тЬЕ `package.json`
- тЬЕ `package-lock.json`
- тЬЕ `server.js`
- тЬЕ `next.config.js`
- тЬЕ `.htaccess`
- тЬЕ `ecosystem.config.js`
- тЬЕ `.env.production.example` (rename ржХрж░рзЗ `.env.production`)

**Include ржХрж░ржмрзЗржи ржирж╛:**
- тЭМ `node_modules` folder
- тЭМ `.git` folder
- тЭМ `src` folder
- тЭМ `README.md`
- тЭМ `tsconfig.json`
- тЭМ `next.config.ts` (ржпржжрж┐ ржерж╛ржХрзЗ)

## ржзрж╛ржк рзй: Domain ржП Upload ржПржмржВ Setup

1. ZIP file upload ржХрж░рзБржи cPanel File Manager ржП
2. Extract ржХрж░рзБржи
3. **ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:** cPanel-ржП `Setup Node.js App` ржП ржЧрж┐рзЯрзЗ `Run JS Script` ржмрж╛ `npm install` ржХрж░рж╛рж░ ржЖржЧрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржЖржкржирж╛рж░ folder-ржП `package.json` ржЖржЫрзЗред
4. **Environment Activate ржХрж░рж╛:** `npm command not found` ржжрзЗржЦрж╛рж▓рзЗ cPanel-ржПрж░ `Setup Node.js App` ржкрзЗржЬрзЗ ржпрж╛ржиред рж╕рзЗржЦрж╛ржирзЗ ржПржХржжржо ржЙржкрж░рзЗ **"Command for entering to the virtual environment"** ржирж╛ржорзЗ ржПржХржЯрж┐ ржмрзЬ рж▓рж╛ржЗржи ржкрж╛ржмрзЗржи (ржпрж╛ ржжрзЗржЦрждрзЗ `source /home/.../bin/activate` ржПрж░ ржорждрзЛ)ред рж╕рзЗржЯрж┐ ржкрзБрж░рзЛржЯрж╛ ржХржкрж┐ ржХрж░рзЗ Terminal-ржП ржкрзЗрж╕рзНржЯ ржХрж░рзЗ Enter ржжрж┐ржиред 
5. ржПржЦржи SSH/Terminal ржП run ржХрж░рзБржи:
   ```bash
   rm -rf node_modules package-lock.json
   npm install --production
   ```
   (ржпржжрж┐ `next` ржоржбрж┐ржЙрж▓ ржирж╛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ, рждржмрзЗ `npm install next` ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи)
6. cPanel тЖТ Setup Node.js App
   - Node version: 18+
   - Application root: ржЖржкржирж╛рж░ folder path
   - Startup file: `server.js`
   - **Run JS Script** ржП ржХрзНрж▓рж┐ржХ ржХрж░рзЗ `build` ржПржмржВ `start` ржЪрзЗржХ ржХрж░рзБржиред
   - рж╕ржм рж╢рзЗрж╖рзЗ **Restart** ржП ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред

## ржзрж╛ржк рзк: рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛ ржУ рж╕ржорж╛ржзрж╛ржи

- **Image ржирж╛ ржЖрж╕рж▓рзЗ:** `public` ржлрзЛрж▓рзНржбрж╛рж░ ржПржмржВ рждрж╛рж░ ржнрзЗрждрж░рзЗрж░ рж╕ржм ржлрж╛ржЗрж▓ ржарж┐ржХржорждрзЛ ржЖржкрж▓рзЛржб рж╣рзЯрзЗржЫрзЗ ржХрж┐ ржирж╛ ржЪрзЗржХ ржХрж░рзБржиред
- **Module Not Found:** Terminal-ржП `npm install` ржарж┐ржХржорждрзЛ рж╢рзЗрж╖ рж╣рзЯрзЗржЫрзЗ ржХрж┐ ржирж╛ ржжрзЗржЦрзБржиред `stderr.log` ржП ржПрж░рж░ ржерж╛ржХрж▓рзЗ ржкрзБржирж░рж╛рзЯ `npm install` ржжрж┐ржиред

## ржзрж╛ржк рзк: Port Check ржХрж░рзБржи

`.htaccess` file ржП port number check ржХрж░рзБржи (line 16):
```
RewriteRule ^(.*)$ http://127.0.0.1:3000/$1 [P,L]
```
cPanel ржП assigned port ржПрж░ рж╕рж╛ржерзЗ match ржХрж░рзБржХред (ржпржжрж┐ ржкрзЛрж░рзНржЯрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рзЯ, рждржмрзЗ ржПржЯрж┐ ржЪрзЗржХ ржХрж░ржмрзЗржи)ред

## ржзрж╛ржк рзл: Resource Limit ржмрж╛ Installation ржПрж░рж░ рж╣рж▓рзЗ (ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг)

ржпржжрж┐ Terminal-ржП `Aborted`, `Core Dumped` ржмрж╛ `Resource temporarily unavailable` ржПрж░рж░ ржжрзЗржЦрзЗржи, рждржмрзЗ ржмрзБржЭржмрзЗржи рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ RAM/Process рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗржЫрзЗред рж╕рзЗржХрзНрж╖рзЗрждрзНрж░рзЗ ржирж┐ржЪрзЗрж░ ржзрж╛ржкржЧрзБрж▓рзЛ ржлрж▓рзЛ ржХрж░рзБржи:

1. **App Stop ржХрж░рзБржи:** cPanel-ржПрж░ `Setup Node.js App` ржкрзЗржЬрзЗ ржЧрж┐рзЯрзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкржЯрж┐ **STOP** ржХрж░рзБржи (ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛рж░ рж╕ржорзЯ ржЕрзНржпрж╛ржк ржЪрж╛рж▓рзБ ржерж╛ржХрж▓рзЗ RAM ржмрзЗрж╢рж┐ ржЦрж░ржЪ рж╣рзЯ)ред
2. **ржкрзБрж░ржирзЛ ржлрж╛ржЗрж▓ ржорзБржЫрзБржи:** Terminal-ржП ржЧрж┐рзЯрзЗ `rm -rf node_modules package-lock.json` рж░рж╛ржи ржХрж░рзБржи (ржпрж╛рждрзЗ ржПржХржжржо ржлрзНрж░рзЗрж╢ ржЗржирж╕рзНржЯрж▓ рж╣рзЯ)ред
3. **UI ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:** Terminal-ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ cPanel-ржПрж░ ржУржЗ ржкрзЗржЬрзЗржЗ ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ ржерж╛ржХрж╛ **"Run NPM Install"** ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред ржПржЯрж┐ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗрж░ ржЪрзЗрзЯрзЗ ржмрзЗрж╢рж┐ рж╕рзНржЯрзНржпрж╛ржмрж▓ред
4. **Restart:** ржЗржирж╕рзНржЯрж▓ рж╕ржлрж▓ рж╣рж▓рзЗ ржЕрзНржпрж╛ржкржЯрж┐ **START** ржХрж░рзБржи ржПржмржВ **RESTART** ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред

## рж╕ржорзНржкржирзНржи! ЁЯОЙ

Browser ржП domain open ржХрж░рзЗ test ржХрж░рзБржиред
